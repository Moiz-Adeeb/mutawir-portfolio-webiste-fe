

  <div class="table-responsive border-[#D8D8D9] rounded-2xl sm:rounded-3xl overflow-hidden" style="box-shadow: 0px 4px 12.9px 0px #0000000D;">
    <div class="overflow-x-auto">
      <table class="w-full min-w-[640px]">
        <thead class="bg-[#FCFCFD]">
        <tr class="border-b border-[#EAECF0]">
          <th
            *ngFor="let column of columns"
            class="bg-[#FCFCFD] px-2 sm:px-3 md:px-4 py-2 sm:py-3 text-left font-inter font-medium text-[#667085] text-[10px] sm:text-xs md:text-sm tracking-wider whitespace-nowrap"
            [class.cursor-pointer]="column.sortable"
            [class.hover:bg-[#F9FAFB]]="column.sortable"
            [class.transition-colors]="column.sortable"
            [style.width]="column.width"
            [style.min-width]="column.minWidth || 'auto'"
            (click)="column.sortable ? onSort(column) : null"
            [ngStyle]="column.style"
            [ngClass]="column.className"
          >
            <div class="flex items-center gap-1 sm:gap-2">
              <ng-container *ngIf="!column.isCheckBox">
                <span class="select-none">{{ column.title | translate }}</span>
              </ng-container>
              <ng-container *ngIf="column.isCheckBox">
                <input
                  type="checkbox"
                  (change)="onCheckBoxChange($event, column.title)"
                  class="w-3 h-3 sm:w-4 sm:h-4 rounded border-[#D0D5DD] text-[color:var(--color-primary)] focus:ring-2 focus:ring-[color:var(--color-primary)] cursor-pointer"
                />
              </ng-container>
              <ng-container *ngIf="column.sortable">
                <img
                  *ngIf="sortColumn === column.title && sortDirection === 'desc'"
                  class="w-3 h-3 sm:w-[18px] sm:h-[13px] flex-shrink-0"
                  src="/assets/img/arrow-down-icon.png"
                  alt="Sort descending"
                />
                <img
                  *ngIf="sortColumn === column.title && sortDirection === 'asc'"
                  class="w-3 h-3 sm:w-[18px] sm:h-[13px] flex-shrink-0"
                  src="/assets/img/arrow-up-icon.png"
                  alt="Sort ascending"
                />
                <img
                  *ngIf="sortColumn !== column.title"
                  class="w-3 h-3 sm:w-[18px] sm:h-[13px] flex-shrink-0"
                  src="/assets/img/arrow-up-down.png"
                  alt="Sortable column"
                />
              </ng-container>
            </div>
          </th>
        </tr>
        </thead>
        <tbody class="bg-white divide-y divide-[rgba(0,0,0,0.1)]">
        <ng-content></ng-content>
        <tr *ngIf="isEmpty">
          <td [attr.colspan]="columns.length" class="px-3 sm:px-6 py-8 sm:py-12">
            <div class="flex flex-col justify-center items-center gap-3">
              <svg class="w-12 h-12 sm:w-16 sm:h-16 text-[#E5E7EB]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"></path>
              </svg>
              <p class="font-inter text-[#98A2B3] text-xs sm:text-sm font-medium">
                {{ (emptyMessage || 'NoDataFound') | translate }}
              </p>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Pagination -->
  <div
    *ngIf="showPagination && totalPages > 1"
    class="flex flex-col sm:flex-row justify-between items-center gap-3 sm:gap-4 mt-4 sm:mt-6 px-2 sm:px-4 py-3 sm:py-4"
  >
    <!-- Results Info -->
    <div class="text-[#667085] text-xs sm:text-sm font-inter order-2 sm:order-1" *ngIf="totalPage > 0">
      {{ 'Showing' | translate }} {{ (page - 1) * pageSize + 1 }}
      {{ 'to' | translate }} {{ Math.min(page * pageSize, totalPage) }}
      {{ 'of' | translate }} {{ totalPage }}
      {{ 'results' | translate }}
    </div>

    <!-- Pagination Controls -->
    <div class="flex items-center gap-1 order-1 sm:order-2" *ngIf="totalPage > 0">
      <!-- Previous Button -->
      <button
        class="flex justify-center items-center border border-[#D0D5DD] rounded-l-lg px-2 sm:px-3 py-1.5 sm:py-2 font-inter font-normal text-[#344054] text-xs sm:text-sm hover:bg-[#F9FAFB] transition-colors"
        (click)="onPageChange(page - 1)"
        [disabled]="page === 1"
        [class.opacity-50]="page === 1"
        [class.cursor-not-allowed]="page === 1"
      >
        <img src="/assets/svg/back-icon-pagination.svg" class="w-4 h-4 sm:w-5 sm:h-5"/>
      </button>

      <!-- First Page -->
      <button
        class="hidden sm:flex justify-center items-center border border-[#D0D5DD] min-w-[32px] sm:min-w-[36px] h-[28px] sm:h-[32px] font-inter font-normal text-[#344054] text-xs sm:text-sm hover:bg-[#F9FAFB] transition-colors"
        [class.bg-[#F9FAFB]]="1 === page"
        [class.font-medium]="1 === page"
        (click)="onPageChange(1)"
      >
        1
      </button>

      <!-- Left Ellipsis -->
      <span class="hidden sm:inline px-2 text-[#667085] text-xs" *ngIf="page > Math.ceil(5 / 2) + 1 && totalPages > 5">...</span>

      <!-- Middle Pages (Desktop) -->
      <ng-container *ngFor="let p of pages">
        <button
          *ngIf="p !== 1 && p !== totalPages"
          class="hidden sm:flex justify-center items-center border border-[#D0D5DD] min-w-[32px] sm:min-w-[36px] h-[28px] sm:h-[32px] font-inter font-normal text-[#344054] text-xs sm:text-sm hover:bg-[#F9FAFB] transition-colors"
          [class.bg-[#F9FAFB]]="p === page"
          [class.font-medium]="p === page"
          (click)="onPageChange(p)"
        >
          {{ p }}
        </button>
      </ng-container>

      <!-- Current Page Indicator (Mobile) -->
      <div class="flex sm:hidden px-3 py-1.5 border border-[#D0D5DD] bg-[#F9FAFB] rounded font-inter text-[#344054] text-xs font-medium">
        {{ page }} / {{ totalPages }}
      </div>

      <!-- Right Ellipsis -->
      <span class="hidden sm:inline px-2 text-[#667085] text-xs" *ngIf="page < totalPages - Math.floor(5 / 2) && totalPages > 5">...</span>

      <!-- Last Page -->
      <button
        class="hidden sm:flex justify-center items-center border border-[#D0D5DD] min-w-[32px] sm:min-w-[36px] h-[28px] sm:h-[32px] font-inter font-normal text-[#344054] text-xs sm:text-sm hover:bg-[#F9FAFB] transition-colors"
        *ngIf="totalPages > 1"
        [class.bg-[#F9FAFB]]="totalPages === page"
        [class.font-medium]="totalPages === page"
        (click)="onPageChange(totalPages)"
      >
        {{ totalPages }}
      </button>

      <!-- Next Button -->
      <button
        class="flex justify-center items-center border border-[#D0D5DD] rounded-r-lg px-2 sm:px-3 py-1.5 sm:py-2 font-inter font-normal text-[#344054] text-xs sm:text-sm hover:bg-[#F9FAFB] transition-colors"
        (click)="onPageChange(page + 1)"
        [disabled]="page === totalPages"
        [class.opacity-50]="page === totalPages"
        [class.cursor-not-allowed]="page === totalPages"
      >
        <img src="/assets/svg/next-icon-pagination.svg" class="w-4 h-4 sm:w-5 sm:h-5"/>
      </button>
    </div>
  </div>